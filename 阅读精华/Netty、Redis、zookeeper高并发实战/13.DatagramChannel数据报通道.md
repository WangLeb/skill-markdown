1.UDP协议不是面向链接的协议，只需要知道服务器的IP和端口就可以像对方发送信息。



###  1.服务端

~~~java
		//获取通道
		DatagramChannel channel = DatagramChannel.open();
		//设置为非阻塞
        channel.configureBlocking(false);
		//绑定端口
        channel.bind(new InetSocketAddress(9999));
		//获取选择器
        Selector selector = Selector.open();
        ByteBuffer buffer = ByteBuffer.allocate(1000);
		//将通道注册到选择器上
        channel.register(selector, SelectionKey.OP_READ);
        while (selector.select() > 0 ){
            Iterator<SelectionKey> iterator = selector.selectedKeys().iterator();
            while (iterator.hasNext()){
                SelectionKey selectionKey = iterator.next();
                if(selectionKey.isReadable()){
                    channel.receive(buffer);
                    buffer.flip();
                    System.out.println(ThreadUtils.getThread().getName());
                    System.out.println(new String(buffer.array(),0,buffer.limit()));
                    buffer.clear();
                }
            }
            iterator.remove();
        }
        NIOUtils.close(channel);
        NIOUtils.close(selector);
    }
~~~

###  2.客户端

~~~java
 		DatagramChannel channel = DatagramChannel.open();
        channel.configureBlocking(false);
        ByteBuffer buffer = ByteBuffer.allocate(2024);
        Scanner scanner = new Scanner(System.in);
        while (scanner.hasNext()){
            String next = scanner.next();

            buffer.put((new Date().toString()+">>"+next).getBytes());
            buffer.flip();
            channel.send(buffer,new InetSocketAddress("127.0.0.1",9999));
            buffer.clear();
        }
        scanner.remove();
        NIOUtils.close(channel);
~~~

