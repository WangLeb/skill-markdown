###  1.创建缓冲区

~~~java
 public static void main(String[] args) throws Exception {
     	//调用allocate方法，不是new
        ByteBuffer allocate = ByteBuffer.allocate(20);
     	//buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
     	System.out.println("position>>>>>"+allocate.position());
		//buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());
     
     
		
    	 //capacity>>>>>20
         //position>>>>>0
         //limit>>>>>20
         //mark>>java.nio.HeapByteBuffer[pos=0 lim=20 cap=20]
     
    }
~~~

###  2.put()写入到缓冲区

有put()，一次存入一个字节，put(array[]) 一次存入一个数组

~~~java
		String a = "123456";
        for (int i = 0; i < a.getBytes().length; i++) {
            allocate.put(a.getBytes()[i]);
        }
        //buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
        System.out.println("position>>>>>"+allocate.position());
        //buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());

        //capacity>>>>>20
        //position>>>>>6
        //limit>>>>>20
        //mark>>java.nio.HeapByteBuffer[pos=6 lim=20 cap=20]

~~~

###  flip()翻转

~~~java
	    String a = "123456";
        for (int i = 0; i < a.getBytes().length; i++) {
            allocate.put(a.getBytes()[i]);
        }

        allocate.flip();

        //buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
        System.out.println("position>>>>>"+allocate.position());
        //buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());
~~~

~~~java
   		 public final Buffer flip() {
            limit = position;
            position = 0;
            mark = -1;
            return this;
    	 }
~~~

将Buffer的position设置为0，意为读取数据的位置

limit设置为原先的position，意为可读取数据的上限

###  get()从缓冲区读取

~~~java
		String a = "123456";
        for (int i = 0; i < a.getBytes().length; i++) {
            allocate.put(a.getBytes()[i]);
        }

        allocate.flip();
        byte[] arr = new byte[3];
        allocate.get(arr);
        System.out.println(new String(arr));

        //buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
        System.out.println("position>>>>>"+allocate.position());
        //buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());


        //capacity>>>>>20
        //position>>>>>3
        //limit>>>>>6
~~~

###  rewind()倒带

还原成为读模式的时候，将position设置为0

~~~java
		String a = "123456";
        for (int i = 0; i < a.getBytes().length; i++) {
            allocate.put(a.getBytes()[i]);
        }

        allocate.flip();
        byte[] arr = new byte[3];
        allocate.get(arr);
        System.out.println(new String(arr));
        allocate.rewind();
        //buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
        System.out.println("position>>>>>"+allocate.position());
        //buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());


        //123
        //capacity>>>>>20
        //position>>>>>0
        //limit>>>>>6

~~~

###  clear() 清空缓冲区

1.将读模式切换为写模式，即是position设置为0。limit设置为capacity-1

2.数组中的数据没有被清除。

~~~java
 		String a = "123456";
        for (int i = 0; i < a.getBytes().length; i++) {
            allocate.put(a.getBytes()[i]);
        }

        allocate.flip();
        byte[] arr = new byte[3];
        allocate.get(arr);
        System.out.println(new String(arr));
        allocate.clear();
        //buffer大小
        System.out.println("capacity>>>>>"+allocate.capacity());
        //buffer下一个写入位置的索引
        System.out.println("position>>>>>"+allocate.position());
        //buffer最大可写入上限
        System.out.println("limit>>>>>"+allocate.limit());
        System.out.println("mark>>"+allocate.mark());

        //123
        //capacity>>>>>20
        //position>>>>>0
        //limit>>>>>20
~~~









