1.FileChannel为阻塞模式，不能设置为非阻塞模式。

2.FileChannel有获取、读取、写入、关闭四个操作

###  1.获取FileChannel通道

1.通过文件的输入输出流获取通道

~~~java
    FileInputStream fis = new FileInputStream("C://Users//华为//Desktop//学习//skill-markdown//阅读精华//Netty、Redis、zookeeper高并发实战//image//Buffer的四个重要属性图.jpg");
   FileChannel channel = fis.getChannel();
        
~~~

2.通过RandomAccessFile文件随机访问类获取通道

~~~java
    RandomAccessFile rw = new RandomAccessFile("C://Users//华为//Desktop//学习//skill-markdown//阅读精华//Netty、Redis、zookeeper高并发实战//image//Buffer的四个重要属性图.jpg", "rw");
        FileChannel channel = rw.getChannel();
~~~

###  2.读取FIleChannel通道

~~~java
 		//通道的读取需要用到缓冲区，调用通道的read方法
        while (oldFileChannel.read(buffer) != -1) {
            buffer.flip();
            newFileChannel.write(buffer);
            buffer.clear();
        }
~~~

###  3.写入FileChannel通道

~~~java
newFileChannel.write(buff)
~~~

###  4.关闭通道

当通道使用完成后，必须关闭通道。

###  5.强制刷新到磁盘

~~~java
channel.force(true);
~~~



###  总结

~~~java
RandomAccessFile oldFile = new RandomAccessFile("C://Users//华为//Desktop//学习//skill-markdown//阅读精华//Netty、Redis、zookeeper高并发实战//image//Buffer的四个重要属性图.jpg", "rw");
        RandomAccessFile newFile = new RandomAccessFile("C://Users//华为//Desktop//学习//skill-markdown//阅读精华//Netty、Redis、zookeeper高并发实战//image//Buffer的四个重要属性图-2.jpg", "rw");
        FileChannel oldFileChannel = oldFile.getChannel();
        FileChannel newFileChannel = newFile.getChannel();
        ByteBuffer buffer = ByteBuffer.allocate(50);

        //通道的读取需要用到缓冲区，调用通道的read方法
        while (oldFileChannel.read(buffer) != -1) {
            buffer.flip();
            newFileChannel.write(buffer);
            buffer.clear();
        }
        oldFileChannel.close();
        newFileChannel.close();
~~~









